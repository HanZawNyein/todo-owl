(()=>{"use strict";function t(t){t=t.slice();const e=[];let n;for(;(n=t[0])&&"string"==typeof n;)e.push(t.shift());return{modifiers:e,data:t}}const e={shouldNormalizeDom:!0,mainEventHandler:(e,n,s)=>("function"==typeof e?e(n):Array.isArray(e)&&(e=t(e).data)[0](e[1],n),!1)};class n{constructor(t,e){this.key=t,this.child=e}mount(t,e){this.parentEl=t,this.child.mount(t,e)}moveBeforeDOMNode(t,e){this.child.moveBeforeDOMNode(t,e)}moveBeforeVNode(t,e){this.moveBeforeDOMNode(t&&t.firstNode()||e)}patch(t,e){if(this===t)return;let n=this.child,s=t.child;this.key===t.key?n.patch(s,e):(s.mount(this.parentEl,n.firstNode()),e&&n.beforeRemove(),n.remove(),this.child=s,this.key=t.key)}beforeRemove(){this.child.beforeRemove()}remove(){this.child.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}function s(t,e){return new n(t,e)}class o extends Error{}const{setAttribute:r,removeAttribute:i}=Element.prototype,l=DOMTokenList.prototype,a=l.add,c=l.remove,h=Array.isArray,{split:d,trim:u}=String.prototype,p=/\s+/;function f(t,e){switch(e){case!1:case void 0:i.call(this,t);break;case!0:r.call(this,t,"");break;default:r.call(this,t,e)}}function m(t){return function(e){f.call(this,t,e)}}function g(t){if(h(t))"class"===t[0]?y.call(this,t[1]):f.call(this,t[0],t[1]);else for(let e in t)"class"===e?y.call(this,t[e]):f.call(this,e,t[e])}function b(t,e){if(h(t)){const n=t[0],s=t[1];if(n===e[0]){if(s===e[1])return;"class"===n?w.call(this,s,e[1]):f.call(this,n,s)}else i.call(this,e[0]),f.call(this,n,s)}else{for(let n in e)n in t||("class"===n?w.call(this,"",e[n]):i.call(this,n));for(let n in t){const s=t[n];s!==e[n]&&("class"===n?w.call(this,s,e[n]):f.call(this,n,s))}}}function v(t){const e={};switch(typeof t){case"string":const n=u.call(t);if(!n)return{};let s=d.call(n,p);for(let t=0,n=s.length;t<n;t++)e[s[t]]=!0;return e;case"object":for(let n in t){const s=t[n];if(s){if(n=u.call(n),!n)continue;const t=d.call(n,p);for(let n of t)e[n]=s}}return e;case"undefined":return{};case"number":return{[t]:!0};default:return{[t]:!0}}}function y(t){t=""===t?{}:v(t);const e=this.classList;for(let n in t)a.call(e,n)}function w(t,e){e=""===e?{}:v(e),t=""===t?{}:v(t);const n=this.classList;for(let s in e)s in t||c.call(n,s);for(let s in t)s in e||a.call(n,s)}function $(t){if(!t)return!1;if(t.ownerDocument.contains(t))return!0;const e=t.getRootNode();return e instanceof ShadowRoot&&t.ownerDocument.contains(e.host)}class k extends String{}function x(t){const n=t.split(".")[0],s=t.includes(".capture");return t.includes(".synthetic")?function(t,n=!1){let s=`__event__synthetic_${t}`;n&&(s=`${s}_capture`),function(t,n,s=!1){A[n]||(document.addEventListener(t,(t=>function(t,n){let s=n.target;for(;null!==s;){const o=s[t];if(o)for(const t of Object.values(o))if(e.mainEventHandler(t,n,s))return;s=s.parentNode}}(n,t)),{capture:s}),A[n]=!0)}(t,s,n);const o=T++;function r(t){const e=this[s]||{};e[o]=t,this[s]=e}return{setup:r,update:r,remove:function(){delete this[s]}}}(n,s):function(t,n=!1){let s=`__event__${t}_${N++}`;function o(t){const n=t.currentTarget;if(!n||!$(n))return;const o=n[s];o&&e.mainEventHandler(o,t,n)}return n&&(s=`${s}_capture`),{setup:function(e){this[s]=e,this.addEventListener(t,o,{capture:n})},update:function(t){this[s]=t},remove:function(){delete this[s],this.removeEventListener(t,o,{capture:n})}}}(n,s)}let N=1,T=1;const A={},E=Node.prototype,_=E.insertBefore,C=(S=E,Object.getOwnPropertyDescriptor(S,"textContent")).set;var S;const O=E.removeChild;class D{constructor(t){this.children=t}mount(t,e){const n=this.children,s=n.length,o=new Array(s);for(let r=0;r<s;r++){let s=n[r];if(s)s.mount(t,e);else{const n=document.createTextNode("");o[r]=n,_.call(t,n,e)}}this.anchors=o,this.parentEl=t}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e;const n=this.children,s=this.anchors;for(let o=0,r=n.length;o<r;o++){let r=n[o];if(r)r.moveBeforeDOMNode(t,e);else{const n=s[o];_.call(e,n,t)}}}moveBeforeVNode(t,e){if(t){const n=t.children[0];e=(n?n.firstNode():t.anchors[0])||null}const n=this.children,s=this.parentEl,o=this.anchors;for(let t=0,r=n.length;t<r;t++){let r=n[t];if(r)r.moveBeforeVNode(null,e);else{const n=o[t];_.call(s,n,e)}}}patch(t,e){if(this===t)return;const n=this.children,s=t.children,o=this.anchors,r=this.parentEl;for(let t=0,i=n.length;t<i;t++){const i=n[t],l=s[t];if(i)if(l)i.patch(l,e);else{const s=i.firstNode(),l=document.createTextNode("");o[t]=l,_.call(r,l,s),e&&i.beforeRemove(),i.remove(),n[t]=void 0}else if(l){n[t]=l;const e=o[t];l.mount(r,e),O.call(r,e)}}}beforeRemove(){const t=this.children;for(let e=0,n=t.length;e<n;e++){const n=t[e];n&&n.beforeRemove()}}remove(){const t=this.parentEl;if(this.isOnlyChild)C.call(t,"");else{const e=this.children,n=this.anchors;for(let s=0,o=e.length;s<o;s++){const o=e[s];o?o.remove():O.call(t,n[s])}}}firstNode(){const t=this.children[0];return t?t.firstNode():this.anchors[0]}toString(){return this.children.map((t=>t?t.toString():"")).join("")}}function L(t){return new D(t)}const B=Node.prototype,R=CharacterData.prototype,I=B.insertBefore,j=((t,e)=>Object.getOwnPropertyDescriptor(t,"data"))(R).set,M=B.removeChild;class P{constructor(t){this.text=t}mountNode(t,e,n){this.parentEl=e,I.call(e,t,n),this.el=t}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e,I.call(e,this.el,t)}moveBeforeVNode(t,e){I.call(this.parentEl,this.el,t?t.el:e)}beforeRemove(){}remove(){M.call(this.parentEl,this.el)}firstNode(){return this.el}toString(){return this.text}}class W extends P{mount(t,e){this.mountNode(document.createTextNode(K(this.text)),t,e)}patch(t){const e=t.text;this.text!==e&&(j.call(this.el,K(e)),this.text=e)}}class V extends P{mount(t,e){this.mountNode(document.createComment(K(this.text)),t,e)}patch(){}}function F(t){return new W(t)}function K(t){switch(typeof t){case"string":return t;case"number":return String(t);case"boolean":return t?"true":"false";default:return t||""}}const z=(t,e)=>Object.getOwnPropertyDescriptor(t,e),H=Node.prototype,U=Element.prototype,q=z(CharacterData.prototype,"data").set,G=z(H,"firstChild").get,X=z(H,"nextSibling").get,Y=()=>{};function J(t){return function(e){this[t]=0===e?0:e?e.valueOf():""}}const Z={};function Q(t){if(t.nodeType!==Node.TEXT_NODE||/\S/.test(t.textContent)){if(t.nodeType!==Node.ELEMENT_NODE||"pre"!==t.tagName)for(let e=t.childNodes.length-1;e>=0;--e)Q(t.childNodes.item(e))}else t.remove()}function tt(t,e=null,n=null){switch(t.nodeType){case Node.ELEMENT_NODE:{let s=n&&n.currentNS;const o=t.tagName;let r;const i=[];if(o.startsWith("block-text-")){const t=parseInt(o.slice(11),10);i.push({type:"text",idx:t}),r=document.createTextNode("")}if(o.startsWith("block-child-")){n.isRef||et(n);const t=parseInt(o.slice(12),10);i.push({type:"child",idx:t}),r=document.createTextNode("")}if(s||(s=t.namespaceURI),r||(r=s?document.createElementNS(s,o):document.createElement(o)),r instanceof Element){n||document.createElement("template").content.appendChild(r);const e=t.attributes;for(let t=0;t<e.length;t++){const n=e[t].name,s=e[t].value;if(n.startsWith("block-handler-")){const t=parseInt(n.slice(14),10);i.push({type:"handler",idx:t,event:s})}else if(n.startsWith("block-attribute-")){const t=parseInt(n.slice(16),10);i.push({type:"attribute",idx:t,name:s,tag:o})}else if(n.startsWith("block-property-")){const t=parseInt(n.slice(15),10);i.push({type:"property",idx:t,name:s,tag:o})}else"block-attributes"===n?i.push({type:"attributes",idx:parseInt(s,10)}):"block-ref"===n?i.push({type:"ref",idx:parseInt(s,10)}):r.setAttribute(e[t].name,s)}}const l={parent:e,firstChild:null,nextSibling:null,el:r,info:i,refN:0,currentNS:s};if(t.firstChild){const e=t.childNodes[0];if(1===t.childNodes.length&&e.nodeType===Node.ELEMENT_NODE&&e.tagName.startsWith("block-child-")){const t=e.tagName,n=parseInt(t.slice(12),10);i.push({idx:n,type:"child",isOnlyChild:!0})}else{l.firstChild=tt(t.firstChild,l,l),r.appendChild(l.firstChild.el);let e=t.firstChild,n=l.firstChild;for(;e=e.nextSibling;)n.nextSibling=tt(e,n,l),r.appendChild(n.nextSibling.el),n=n.nextSibling}}return l.info.length&&et(l),l}case Node.TEXT_NODE:case Node.COMMENT_NODE:return{parent:e,firstChild:null,nextSibling:null,el:t.nodeType===Node.TEXT_NODE?document.createTextNode(t.textContent):document.createComment(t.textContent),info:[],refN:0,currentNS:null}}throw new o("boom")}function et(t){t.isRef=!0;do{t.refN++}while(t=t.parent)}function nt(t){let e=t.parent;for(;e&&e.nextSibling===t;)t=e,e=e.parent;return e}function st(t,e,n){if(e||(e={collectors:[],locations:[],children:new Array(t.info.filter((t=>"child"===t.type)).length),cbRefs:[],refN:t.refN,refList:[]},n=0),t.refN){const s=n,o=t.isRef,r=t.firstChild?t.firstChild.refN:0,i=t.nextSibling?t.nextSibling.refN:0;if(o){for(let e of t.info)e.refIdx=s;t.refIdx=s,function(t,e){for(let n of e.info)switch(n.type){case"text":t.locations.push({idx:n.idx,refIdx:n.refIdx,setData:ot,updateData:ot});break;case"child":n.isOnlyChild?t.children[n.idx]={parentRefIdx:n.refIdx,isOnlyChild:!0}:t.children[n.idx]={parentRefIdx:nt(e).refIdx,afterRefIdx:n.refIdx};break;case"property":{const e=n.refIdx,s=J(n.name);t.locations.push({idx:n.idx,refIdx:e,setData:s,updateData:s});break}case"attribute":{const e=n.refIdx;let s,o;"class"===n.name?(o=y,s=w):(o=m(n.name),s=o),t.locations.push({idx:n.idx,refIdx:e,setData:o,updateData:s});break}case"attributes":t.locations.push({idx:n.idx,refIdx:n.refIdx,setData:g,updateData:b});break;case"handler":{const{setup:e,update:s}=x(n.event);t.locations.push({idx:n.idx,refIdx:n.refIdx,setData:e,updateData:s});break}case"ref":const s=t.cbRefs.push(n.idx)-1;t.locations.push({idx:n.idx,refIdx:n.refIdx,setData:rt(s,t.refList),updateData:Y})}}(e,t),n++}if(i){const o=n+r;e.collectors.push({idx:o,prevIdx:s,getVal:X}),st(t.nextSibling,e,o)}r&&(e.collectors.push({idx:n,prevIdx:s,getVal:G}),st(t.firstChild,e,n))}return e}function ot(t){q.call(this,K(t))}function rt(t,e){return function(n){e[e.length-1][t]=()=>n(this)}}const it=Node.prototype,lt=it.insertBefore,at=it.appendChild,ct=it.removeChild,ht=((t,e)=>Object.getOwnPropertyDescriptor(t,"textContent"))(it).set;class dt{constructor(t){this.children=t}mount(t,e){const n=this.children,s=document.createTextNode("");this.anchor=s,lt.call(t,s,e);const o=n.length;if(o){const e=n[0].mount;for(let r=0;r<o;r++)e.call(n[r],t,s)}this.parentEl=t}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e;const n=this.children;for(let s=0,o=n.length;s<o;s++)n[s].moveBeforeDOMNode(t,e);e.insertBefore(this.anchor,t)}moveBeforeVNode(t,e){if(t){const n=t.children[0];e=(n?n.firstNode():t.anchor)||null}const n=this.children;for(let t=0,s=n.length;t<s;t++)n[t].moveBeforeVNode(null,e);this.parentEl.insertBefore(this.anchor,e)}patch(t,e){if(this===t)return;const n=this.children,s=t.children;if(0===s.length&&0===n.length)return;this.children=s;const o=s[0]||n[0],{mount:r,patch:i,remove:l,beforeRemove:a,moveBeforeVNode:c,firstNode:h}=o,d=this.anchor,u=this.isOnlyChild,p=this.parentEl;if(0===s.length&&u){if(e)for(let t=0,e=n.length;t<e;t++)a.call(n[t]);return ht.call(p,""),void at.call(p,d)}let f,m=0,g=0,b=n[0],v=s[0],y=n.length-1,w=s.length-1,$=n[y],k=s[w];for(;m<=y&&g<=w;){if(null===b){b=n[++m];continue}if(null===$){$=n[--y];continue}let t=b.key,o=v.key;if(t===o){i.call(b,v,e),s[g]=b,b=n[++m],v=s[++g];continue}let l=$.key,a=k.key;if(l===a){i.call($,k,e),s[w]=$,$=n[--y],k=s[--w];continue}if(t===a){i.call(b,k,e),s[w]=b;const t=s[w+1];c.call(b,t,d),b=n[++m],k=s[--w];continue}if(l===o){i.call($,v,e),s[g]=$;const t=n[m];c.call($,t,d),$=n[--y],v=s[++g];continue}f=f||ut(n,m,y);let u=f[o];if(void 0===u)r.call(v,p,h.call(b)||null);else{const t=n[u];c.call(t,b,null),i.call(t,v,e),s[g]=t,n[u]=null}v=s[++g]}if(m<=y||g<=w)if(m>y){const t=s[w+1],e=t?h.call(t)||null:d;for(let t=g;t<=w;t++)r.call(s[t],p,e)}else for(let t=m;t<=y;t++){let s=n[t];s&&(e&&a.call(s),l.call(s))}}beforeRemove(){const t=this.children,e=t.length;if(e){const n=t[0].beforeRemove;for(let s=0;s<e;s++)n.call(t[s])}}remove(){const{parentEl:t,anchor:e}=this;if(this.isOnlyChild)ht.call(t,"");else{const n=this.children,s=n.length;if(s){const t=n[0].remove;for(let e=0;e<s;e++)t.call(n[e])}ct.call(t,e)}}firstNode(){const t=this.children[0];return t?t.firstNode():void 0}toString(){return this.children.map((t=>t.toString())).join("")}}function ut(t,e,n){let s={};for(let o=e;o<=n;o++)s[t[o].key]=o;return s}const pt=Node.prototype,ft=pt.insertBefore,mt=pt.removeChild;class gt{constructor(t){this.content=[],this.html=t}mount(t,e){this.parentEl=t;const n=document.createElement("template");n.innerHTML=this.html,this.content=[...n.content.childNodes];for(let n of this.content)ft.call(t,n,e);if(!this.content.length){const n=document.createTextNode("");this.content.push(n),ft.call(t,n,e)}}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e;for(let n of this.content)ft.call(e,n,t)}moveBeforeVNode(t,e){const n=t?t.content[0]:e;this.moveBeforeDOMNode(n)}patch(t){if(this===t)return;const e=t.html;if(this.html!==e){const n=this.parentEl,s=this.content[0],o=document.createElement("template");o.innerHTML=e;const r=[...o.content.childNodes];for(let t of r)ft.call(n,t,s);if(!r.length){const t=document.createTextNode("");r.push(t),ft.call(n,t,s)}this.remove(),this.content=r,this.html=t.html}}beforeRemove(){}remove(){const t=this.parentEl;for(let e of this.content)mt.call(t,e)}firstNode(){return this.content[0]}toString(){return this.html}}function bt(t){return new gt(t)}function vt(t,e,n=null){t.mount(e,n)}const yt=new WeakMap,wt=new WeakMap;function $t(t,e){if(!t)return!1;const n=t.fiber;n&&yt.set(n,e);const s=wt.get(t);if(s){let t=!1;for(let n=s.length-1;n>=0;n--)try{s[n](e),t=!0;break}catch(t){e=t}if(t)return!0}return $t(t.parent,e)}function kt(t){let{error:e}=t;e instanceof o||(e=Object.assign(new o('An error occured in the owl lifecycle (see this Error\'s "cause" property)'),{cause:e}));const n="node"in t?t.node:t.fiber.node,s="fiber"in t?t.fiber:n.fiber;if(s){let t=s;do{t.node.fiber=t,t=t.parent}while(t);yt.set(s.root,e)}if(!$t(n,e)){console.warn("[Owl] Unhandled error. Destroying the root component");try{n.app.destroy()}catch(t){console.error(t)}throw e}}function xt(){throw new o("Attempted to render cancelled fiber")}function Nt(t){let e=0;for(let n of t){let t=n.node;n.render=xt,0===t.status&&t.cancel(),t.fiber=null,n.bdom?t.forceNextRender=!0:e++,e+=Nt(n.children)}return e}class Tt{constructor(t,e){if(this.bdom=null,this.children=[],this.appliedToDom=!1,this.deep=!1,this.childrenMap={},this.node=t,this.parent=e,e){this.deep=e.deep;const t=e.root;t.setCounter(t.counter+1),this.root=t,e.children.push(this)}else this.root=this}render(){let t=this.root.node,e=t.app.scheduler,n=t.parent;for(;n;){if(n.fiber){let s=n.fiber.root;if(0!==s.counter||!(t.parentKey in n.fiber.childrenMap))return void e.delayedRenders.push(this);n=s.node}t=n,n=n.parent}this._render()}_render(){const t=this.node,e=this.root;if(e){try{this.bdom=!0,this.bdom=t.renderFn()}catch(e){t.app.handleError({node:t,error:e})}e.setCounter(e.counter-1)}}}class At extends Tt{constructor(){super(...arguments),this.counter=1,this.willPatch=[],this.patched=[],this.mounted=[],this.locked=!1}complete(){const t=this.node;let e;this.locked=!0;try{for(e of this.willPatch){let t=e.node;if(t.fiber===e){const e=t.component;for(let n of t.willPatch)n.call(e)}}e=void 0,t._patch(),this.locked=!1;let n=this.mounted;for(;e=n.pop();)if(e.appliedToDom)for(let t of e.node.mounted)t();let s=this.patched;for(;e=s.pop();)if(e.appliedToDom)for(let t of e.node.patched)t()}catch(n){this.locked=!1,t.app.handleError({fiber:e||this,error:n})}}setCounter(t){this.counter=t,0===t&&this.node.app.scheduler.flush()}}class Et extends At{constructor(t,e,n={}){super(t,null),this.target=e,this.position=n.position||"last-child"}complete(){let t=this;try{const e=this.node;if(e.children=this.childrenMap,e.app.constructor.validateTarget(this.target),e.bdom)e.updateDom();else if(e.bdom=this.bdom,"last-child"===this.position||0===this.target.childNodes.length)vt(e.bdom,this.target);else{const t=this.target.childNodes[0];vt(e.bdom,this.target,t)}e.fiber=null,e.status=1,this.appliedToDom=!0;let n=this.mounted;for(;t=n.pop();)if(t.appliedToDom)for(let e of t.node.mounted)e()}catch(e){this.node.app.handleError({fiber:t,error:e})}}}const _t=Symbol("Key changes"),Ct=()=>{throw new Error("Called NO_CALLBACK. Owl is broken, please report this to the maintainers.")},St=Object.prototype.toString,Ot=Object.prototype.hasOwnProperty,Dt=["Object","Array","Set","Map","WeakMap"],Lt=["Set","Map","WeakMap"];function Bt(t){return St.call(Mt(t)).slice(8,-1)}function Rt(t){return"object"==typeof t&&Dt.includes(Bt(t))}function It(t,e){return Rt(t)?Ut(t,e):t}const jt=new WeakSet;function Mt(t){return zt.has(t)?zt.get(t):t}const Pt=new WeakMap;function Wt(t,e,n){if(n===Ct)return;Pt.get(t)||Pt.set(t,new Map);const s=Pt.get(t);s.get(e)||s.set(e,new Set),s.get(e).add(n),Ft.has(n)||Ft.set(n,new Set),Ft.get(n).add(t)}function Vt(t,e){const n=Pt.get(t);if(!n)return;const s=n.get(e);if(s)for(const t of[...s])Kt(t),t()}const Ft=new WeakMap;function Kt(t){const e=Ft.get(t);if(e){for(const n of e){const e=Pt.get(n);if(e)for(const[n,s]of e.entries())s.delete(t),s.size||e.delete(n)}e.clear()}}const zt=new WeakMap,Ht=new WeakMap;function Ut(t,e=Ct){if(!Rt(t))throw new o("Cannot make the given value reactive");if(jt.has(t))return t;if(zt.has(t))return Ut(zt.get(t),e);Ht.has(t)||Ht.set(t,new WeakMap);const n=Ht.get(t);if(!n.has(e)){const s=Bt(t),o=Lt.includes(s)?function(t,e,n){const s=Qt[n](t,e);return Object.assign(qt(e),{get:(t,n)=>Ot.call(s,n)?s[n]:(Wt(t,n,e),It(t[n],e))})}(t,e,s):qt(e),r=new Proxy(t,o);n.set(e,r),zt.set(r,t)}return n.get(e)}function qt(t){return{get(e,n,s){const o=Object.getOwnPropertyDescriptor(e,n);return!o||o.writable||o.configurable?(Wt(e,n,t),It(Reflect.get(e,n,s),t)):Reflect.get(e,n,s)},set(t,e,n,s){const o=Ot.call(t,e),r=Reflect.get(t,e,s),i=Reflect.set(t,e,Mt(n),s);return!o&&Ot.call(t,e)&&Vt(t,_t),(r!==Reflect.get(t,e,s)||"length"===e&&Array.isArray(t))&&Vt(t,e),i},deleteProperty(t,e){const n=Reflect.deleteProperty(t,e);return Vt(t,_t),Vt(t,e),n},ownKeys:e=>(Wt(e,_t,t),Reflect.ownKeys(e)),has:(e,n)=>(Wt(e,_t,t),Reflect.has(e,n))}}function Gt(t,e,n){return s=>(s=Mt(s),Wt(e,s,n),It(e[t](s),n))}function Xt(t,e,n){return function*(){Wt(e,_t,n);const s=e.keys();for(const o of e[t]()){const t=s.next().value;Wt(e,t,n),yield It(o,n)}}}function Yt(t,e){return function(n,s){Wt(t,_t,e),t.forEach((function(o,r,i){Wt(t,r,e),n.call(s,It(o,e),It(r,e),It(i,e))}),s)}}function Jt(t,e,n){return(s,o)=>{s=Mt(s);const r=n.has(s),i=n[e](s),l=n[t](s,o);return r!==n.has(s)&&Vt(n,_t),i!==n[e](s)&&Vt(n,s),l}}function Zt(t){return()=>{const e=[...t.keys()];t.clear(),Vt(t,_t);for(const n of e)Vt(t,n)}}const Qt={Set:(t,e)=>({has:Gt("has",t,e),add:Jt("add","has",t),delete:Jt("delete","has",t),keys:Xt("keys",t,e),values:Xt("values",t,e),entries:Xt("entries",t,e),[Symbol.iterator]:Xt(Symbol.iterator,t,e),forEach:Yt(t,e),clear:Zt(t),get size(){return Wt(t,_t,e),t.size}}),Map:(t,e)=>({has:Gt("has",t,e),get:Gt("get",t,e),set:Jt("set","get",t),delete:Jt("delete","has",t),keys:Xt("keys",t,e),values:Xt("values",t,e),entries:Xt("entries",t,e),[Symbol.iterator]:Xt(Symbol.iterator,t,e),forEach:Yt(t,e),clear:Zt(t),get size(){return Wt(t,_t,e),t.size}}),WeakMap:(t,e)=>({has:Gt("has",t,e),get:Gt("get",t,e),set:Jt("set","get",t),delete:Jt("delete","has",t)})};let te=null;function ee(){if(!te)throw new o("No active component (a hook function should only be called in 'setup')");return te}function ne(t,e){for(let n in e)void 0===t[n]&&(t[n]=e[n])}const se=new WeakMap;function oe(t){const e=ee();let n=se.get(e);return n||(n=function(t){let e=!1;return async(...n)=>{e||(e=!0,await Promise.resolve(),e=!1,t(...n))}}(e.render.bind(e,!1)),se.set(e,n),e.willDestroy.push(Kt.bind(null,n))),Ut(t,n)}class re{constructor(t,e,n,s,o){this.fiber=null,this.bdom=null,this.status=0,this.forceNextRender=!1,this.nextProps=null,this.children=Object.create(null),this.refs={},this.willStart=[],this.willUpdateProps=[],this.willUnmount=[],this.mounted=[],this.willPatch=[],this.patched=[],this.willDestroy=[],te=this,this.app=n,this.parent=s,this.props=e,this.parentKey=o;const r=t.defaultProps;e=Object.assign({},e),r&&ne(e,r);const i=s&&s.childEnv||n.env;this.childEnv=i;for(const t in e){const n=e[t];n&&"object"==typeof n&&zt.has(n)&&(e[t]=oe(n))}this.component=new t(e,i,this);const l=Object.assign(Object.create(this.component),{this:this.component});this.renderFn=n.getTemplate(t.template).bind(this.component,l,this),this.component.setup(),te=null}mountComponent(t,e){const n=new Et(this,t,e);this.app.scheduler.addFiber(n),this.initiateRender(n)}async initiateRender(t){this.fiber=t,this.mounted.length&&t.root.mounted.push(t);const e=this.component;try{await Promise.all(this.willStart.map((t=>t.call(e))))}catch(t){return void this.app.handleError({node:this,error:t})}0===this.status&&this.fiber===t&&t.render()}async render(t){if(this.status>=2)return;let e=this.fiber;if(e&&(e.root.locked||!0===e.bdom)&&(await Promise.resolve(),e=this.fiber),e){if(!e.bdom&&!yt.has(e))return void(t&&(e.deep=t));t=t||e.deep}else if(!this.bdom)return;const n=function(t){let e=t.fiber;if(e){let t=e.root;return t.locked=!0,t.setCounter(t.counter+1-Nt(e.children)),t.locked=!1,e.children=[],e.childrenMap={},e.bdom=null,yt.has(e)&&(yt.delete(e),yt.delete(t),e.appliedToDom=!1),e}const n=new At(t,null);return t.willPatch.length&&n.willPatch.push(n),t.patched.length&&n.patched.push(n),n}(this);n.deep=t,this.fiber=n,this.app.scheduler.addFiber(n),await Promise.resolve(),this.status>=2||this.fiber!==n||!e&&n.parent||n.render()}cancel(){this._cancel(),delete this.parent.children[this.parentKey],this.app.scheduler.scheduleDestroy(this)}_cancel(){this.status=2;const t=this.children;for(let e in t)t[e]._cancel()}destroy(){let t=1===this.status;this._destroy(),t&&this.bdom.remove()}_destroy(){const t=this.component;if(1===this.status)for(let e of this.willUnmount)e.call(t);for(let t of Object.values(this.children))t._destroy();if(this.willDestroy.length)try{for(let e of this.willDestroy)e.call(t)}catch(t){this.app.handleError({error:t,node:this})}this.status=3}async updateAndRender(t,e){this.nextProps=t,t=Object.assign({},t);const n=function(t,e){let n=t.fiber;return n&&(Nt(n.children),n.root=null),new Tt(t,e)}(this,e);this.fiber=n;const s=this.component,o=s.constructor.defaultProps;o&&ne(t,o),te=this;for(const e in t){const n=t[e];n&&"object"==typeof n&&zt.has(n)&&(t[e]=oe(n))}te=null;const r=Promise.all(this.willUpdateProps.map((e=>e.call(s,t))));if(await r,n!==this.fiber)return;s.props=t,n.render();const i=e.root;this.willPatch.length&&i.willPatch.push(n),this.patched.length&&i.patched.push(n)}updateDom(){if(this.fiber)if(this.bdom===this.fiber.bdom)for(let t in this.children)this.children[t].updateDom();else this.bdom.patch(this.fiber.bdom,!1),this.fiber.appliedToDom=!0,this.fiber=null}setRef(t,e){e&&(this.refs[t]=e)}firstNode(){const t=this.bdom;return t?t.firstNode():void 0}mount(t,e){const n=this.fiber.bdom;this.bdom=n,n.mount(t,e),this.status=1,this.fiber.appliedToDom=!0,this.children=this.fiber.childrenMap,this.fiber=null}moveBeforeDOMNode(t,e){this.bdom.moveBeforeDOMNode(t,e)}moveBeforeVNode(t,e){this.bdom.moveBeforeVNode(t?t.bdom:null,e)}patch(){this.fiber&&this.fiber.parent&&(this._patch(),this.props=this.nextProps)}_patch(){let t=!1;for(let e in this.children){t=!0;break}const e=this.fiber;this.children=e.childrenMap,this.bdom.patch(e.bdom,t),e.appliedToDom=!0,this.fiber=null}beforeRemove(){this._destroy()}remove(){this.bdom.remove()}get name(){return this.component.constructor.name}get subscriptions(){const t=se.get(this);return t?(e=t,[...Ft.get(e)||[]].map((t=>{const n=Pt.get(t);let s=[];if(n)for(const[t,o]of n)o.has(e)&&s.push(t);return{target:t,keys:s}}))):[];var e}}const ie=Symbol("timeout");function le(t,e){const n=new o(`The following error occurred in ${e}: `),s=new o(`${e}'s promise hasn't resolved after 3 seconds`),r=ee();return(...o)=>{const i=t=>{throw n.cause=t,t instanceof Error?n.message+=`"${t.message}"`:n.message=`Something that is not an Error was thrown in ${e} (see this Error's "cause" property)`,n};try{const n=t(...o);if(n instanceof Promise){if("onWillStart"===e||"onWillUpdateProps"===e){const t=r.fiber;Promise.race([n.catch((()=>{})),new Promise((t=>setTimeout((()=>t(ie)),3e3)))]).then((e=>{e===ie&&r.fiber===t&&console.warn(s)}))}return n.catch(i)}return n}catch(t){i(t)}}}function ae(t){const e=ee(),n=e.app.dev?le:t=>t;e.mounted.push(n(t.bind(e.component),"onMounted"))}class ce{constructor(t,e,n){this.props=t,this.env=e,this.__owl__=n}setup(){}render(t=!1){this.__owl__.render(!0===t)}}ce.template="";const he=F("").constructor;class de extends he{constructor(t,e){super(""),this.target=null,this.selector=t,this.content=e}mount(t,e){super.mount(t,e),this.target=document.querySelector(this.selector),this.target?this.content.mount(this.target,null):this.content.mount(t,e)}beforeRemove(){this.content.beforeRemove()}remove(){this.content&&(super.remove(),this.content.remove(),this.content=null)}patch(t){super.patch(t),this.content?this.content.patch(t.content,!0):(this.content=t.content,this.content.mount(this.target,null))}}class ue extends ce{setup(){const t=this.__owl__;ae((()=>{const e=t.bdom;if(!e.target){const t=document.querySelector(this.props.target);if(!t)throw new o("invalid portal target");e.content.moveBeforeDOMNode(t.firstChild,t)}})),function(t){const e=ee(),n=e.app.dev?le:t=>t;e.willUnmount.unshift(n(t.bind(e.component),"onWillUnmount"))}((()=>{t.bdom.remove()}))}}ue.template="__portal__",ue.props={target:{type:String},slots:!0};const pe=t=>Array.isArray(t),fe=t=>"object"!=typeof t,me=t=>"object"==typeof t&&t&&"value"in t;function ge(t){return"object"==typeof t&&"optional"in t&&t.optional||!1}function be(t){return"*"===t||!0===t?"value":t.name.toLowerCase()}function ve(t){return fe(t)?be(t):pe(t)?t.map(ve).join(" or "):me(t)?String(t.value):"element"in t?`list of ${ve({type:t.element,optional:!1})}s`:"shape"in t?"object":ve(t.type||"*")}function ye(t,e){var n;Array.isArray(e)&&(n=e,e=Object.fromEntries(n.map((t=>t.endsWith("?")?[t.slice(0,-1),{optional:!0}]:[t,{type:"*",optional:!1}])))),t=Mt(t);let s=[];for(let n in t)if(n in e){let o=we(n,t[n],e[n]);o&&s.push(o)}else"*"in e||s.push(`unknown key '${n}'`);for(let n in e){const o=e[n];if("*"!==n&&!ge(o)&&!(n in t)){const t="object"==typeof o&&!Array.isArray(o);let e="*"===o||(t&&"type"in o?"*"===o.type:t)?"":` (should be a ${ve(o)})`;s.push(`'${n}' is missing${e}`)}}return s}function we(t,e,n){if(void 0===e)return ge(n)?null:`'${t}' is undefined (should be a ${ve(n)})`;if(fe(n))return function(t,e,n){if("function"==typeof n)if("object"==typeof e){if(!(e instanceof n))return`'${t}' is not a ${be(n)}`}else if(typeof e!==n.name.toLowerCase())return`'${t}' is not a ${be(n)}`;return null}(t,e,n);if(me(n))return e===n.value?null:`'${t}' is not equal to '${n.value}'`;if(pe(n)){let s=n.find((n=>!we(t,e,n)));return s?null:`'${t}' is not a ${ve(n)}`}let s=null;if("element"in n)s=function(t,e,n){if(!Array.isArray(e))return`'${t}' is not a list of ${ve(n)}s`;for(let s=0;s<e.length;s++){const o=we(`${t}[${s}]`,e[s],n);if(o)return o}return null}(t,e,n.element);else if("shape"in n)if("object"!=typeof e||Array.isArray(e))s=`'${t}' is not an object`;else{const o=ye(e,n.shape);o.length&&(s=`'${t}' doesn't have the correct shape (${o.join(", ")})`)}else if("values"in n)if("object"!=typeof e||Array.isArray(e))s=`'${t}' is not an object`;else{const o=Object.entries(e).map((([t,e])=>we(t,e,n.values))).filter(Boolean);o.length&&(s=`some of the values in '${t}' are invalid (${o.join(", ")})`)}return"type"in n&&!s&&(s=we(t,e,n.type)),"validate"in n&&!s&&(s=n.validate(e)?null:`'${t}' is not valid`),s}const $e=Object.create;function ke(t){const e=$e(t);for(let n in t)e[n]=t[n];return e}const xe=Symbol("isBoundary");class Ne{constructor(t,e,n,s,o){this.fn=t,this.ctx=ke(e),this.component=n,this.node=s,this.key=o}evaluate(){return this.fn.call(this.component,this.ctx,this.node,this.key)}toString(){return this.evaluate().toString()}}function Te(t,e,n){const s="string"!=typeof t?t:n.constructor.components[t];if(!s)return;const r=s.props;if(!r)return void(n.__owl__.app.warnIfNoStaticProps&&console.warn(`Component '${s.name}' does not have a static props description`));const i=s.defaultProps;if(i){let t=t=>Array.isArray(r)?r.includes(t):t in r&&!("*"in r)&&!ge(r[t]);for(let e in i)if(t(e))throw new o(`A default value cannot be defined for a mandatory prop (name: '${e}', component: ${s.name})`)}const l=ye(e,r);if(l.length)throw new o(`Invalid props for component '${s.name}': `+l.join(", "))}const Ae={withDefault:function(t,e){return null==t||!1===t?e:t},zero:Symbol("zero"),isBoundary:xe,callSlot:function(t,e,n,o,r,i,l){n=n+"__slot_"+o;const a=t.props.slots||{},{__render:c,__ctx:h,__scope:d}=a[o]||{},u=$e(h||{});d&&(u[d]=i);const p=c?c(u,e,n):null;if(l){let i,a;return p?i=r?s(o,p):p:a=l(t,e,n),L([i,a])}return p||F("")},capture:ke,withKey:function(t,e){return t.key=e,t},prepareList:function(t){let e,n;if(Array.isArray(t))e=t,n=t;else if(t instanceof Map)e=[...t.keys()],n=[...t.values()];else if(Symbol.iterator in Object(t))e=[...t],n=e;else{if(!t||"object"!=typeof t)throw new o(`Invalid loop expression: "${t}" is not iterable`);n=Object.values(t),e=Object.keys(t)}const s=n.length;return[e,n,s,new Array(s)]},setContextValue:function(t,e,n){const s=t;for(;!t.hasOwnProperty(e)&&!t.hasOwnProperty(xe);){const e=t.__proto__;if(!e){t=s;break}t=e}t[e]=n},shallowEqual:function(t,e){for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0},toNumber:function(t){const e=parseFloat(t);return isNaN(e)?t:e},validateProps:Te,LazyValue:Ne,safeOutput:function(t,e){if(null==t)return e?s("default",e):s("undefined",F(""));let n,o;switch(typeof t){case"object":t instanceof k?(n="string_safe",o=bt(t)):t instanceof Ne?(n="lazy_value",o=t.evaluate()):t instanceof String?(n="string_unsafe",o=F(t)):(n="block_safe",o=t);break;case"string":n="string_unsafe",o=F(t);break;default:n="string_unsafe",o=F(String(t))}return s(n,o)},createCatcher:function(t){const e=Object.keys(t).length;class n{constructor(t,e){this.handlerFns=[],this.afterNode=null,this.child=t,this.handlerData=e}mount(e,n){this.parentEl=e,this.child.mount(e,n),this.afterNode=document.createTextNode(""),e.insertBefore(this.afterNode,n),this.wrapHandlerData();for(let n in t){const s=t[n],o=x(n);this.handlerFns[s]=o,o.setup.call(e,this.handlerData[s])}}wrapHandlerData(){for(let t=0;t<e;t++){let e=this.handlerData[t],n=e.length-2,s=e[n];const o=this;e[n]=function(t){const e=t.target;let n=o.child.firstNode();const r=o.afterNode;for(;n&&n!==r;){if(n.contains(e))return s.call(this,t);n=n.nextSibling}}}}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e,this.child.moveBeforeDOMNode(t,e),e.insertBefore(this.afterNode,t)}moveBeforeVNode(t,e){t&&(e=t.firstNode()||e),this.child.moveBeforeVNode(t?t.child:null,e),this.parentEl.insertBefore(this.afterNode,e)}patch(t,n){if(this!==t){this.handlerData=t.handlerData,this.wrapHandlerData();for(let t=0;t<e;t++)this.handlerFns[t].update.call(this.parentEl,this.handlerData[t]);this.child.patch(t.child,n)}}beforeRemove(){this.child.beforeRemove()}remove(){for(let t=0;t<e;t++)this.handlerFns[t].remove.call(this.parentEl);this.child.remove(),this.afterNode.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}return function(t,e){return new n(t,e)}},markRaw:function(t){return jt.add(t),t},OwlError:o,makeRefWrapper:function(t){let e=new Set;return(n,s)=>{if(e.has(n))throw new o(`Cannot set the same ref more than once in the same component, ref "${n}" was set multiple times in ${t.name}`);return e.add(n),s}}};function Ee(t){const e=(new DOMParser).parseFromString(t,"text/xml");if(e.getElementsByTagName("parsererror").length){let n="Invalid XML in template.";const s=e.getElementsByTagName("parsererror")[0].textContent;if(s){n+="\nThe parser has produced the following error message:\n"+s;const e=/\d+/g,o=e.exec(s);if(o){const r=Number(o[0]),i=t.split("\n")[r-1],l=e.exec(s);if(i&&l){const t=Number(l[0])-1;i[t]&&(n+=`\nThe error might be located at xml line ${r} column ${t}\n${i}\n${"-".repeat(t-1)}^`)}}}throw new o(n)}return e}const _e={text:F,createBlock:function(t){if(t in Z)return Z[t];const n=(new DOMParser).parseFromString(`<t>${t}</t>`,"text/xml").firstChild.firstChild;e.shouldNormalizeDom&&Q(n);const s=tt(n),o=st(s),r=function(t,e){let n=function(t,e){const{refN:n,collectors:s,children:o}=e,r=s.length;e.locations.sort(((t,e)=>t.idx-e.idx));const i=e.locations.map((t=>({refIdx:t.refIdx,setData:t.setData,updateData:t.updateData}))),l=i.length,a=o.length,c=o,h=n>0,d=H.cloneNode,u=H.insertBefore,p=U.remove;class f{constructor(t){this.data=t}beforeRemove(){}remove(){p.call(this.el)}firstNode(){return this.el}moveBeforeDOMNode(t,e=this.parentEl){this.parentEl=e,u.call(e,this.el,t)}moveBeforeVNode(t,e){u.call(this.parentEl,this.el,t?t.el:e)}toString(){const t=document.createElement("div");return this.mount(t,null),t.innerHTML}mount(e,n){const s=d.call(t,!0);u.call(e,s,n),this.el=s,this.parentEl=e}patch(t,e){}}return h&&(f.prototype.mount=function(e,o){const h=d.call(t,!0),p=new Array(n);this.refs=p,p[0]=h;for(let t=0;t<r;t++){const e=s[t];p[e.idx]=e.getVal.call(p[e.prevIdx])}if(l){const t=this.data;for(let e=0;e<l;e++){const n=i[e];n.setData.call(p[n.refIdx],t[e])}}if(u.call(e,h,o),a){const t=this.children;for(let e=0;e<a;e++){const n=t[e];if(n){const t=c[e],s=t.afterRefIdx?p[t.afterRefIdx]:null;n.isOnlyChild=t.isOnlyChild,n.mount(p[t.parentRefIdx],s)}}}this.el=h,this.parentEl=e},f.prototype.patch=function(t,e){if(this===t)return;const n=this.refs;if(l){const e=this.data,s=t.data;for(let t=0;t<l;t++){const o=e[t],r=s[t];if(o!==r){const e=i[t];e.updateData.call(n[e.refIdx],r,o)}}this.data=s}if(a){let s=this.children;const o=t.children;for(let t=0;t<a;t++){const r=s[t],i=o[t];if(r)i?r.patch(i,e):(e&&r.beforeRemove(),r.remove(),s[t]=void 0);else if(i){const e=c[t],o=e.afterRefIdx?n[e.afterRefIdx]:null;i.mount(n[e.parentRefIdx],o),s[t]=i}}}}),f}(t,e);if(e.cbRefs.length){const t=e.cbRefs,s=e.refList;let o=t.length;n=class extends n{mount(t,e){s.push(new Array(o)),super.mount(t,e);for(let t of s.pop())t()}remove(){super.remove();for(let e of t)(0,this.data[e])(null)}}}return e.children.length?(n=class extends n{constructor(t,e){super(t),this.children=e}},n.prototype.beforeRemove=D.prototype.beforeRemove,(t,e=[])=>new n(t,e)):t=>new n(t)}(s.el,o);return Z[t]=r,r},list:function(t){return new dt(t)},multi:L,html:bt,toggler:s,comment:function(t){return new V(t)}};class Ce{constructor(t={}){if(this.rawTemplates=Object.create(Se),this.templates={},this.Portal=ue,this.dev=t.dev||!1,this.translateFn=t.translateFn,this.translatableAttributes=t.translatableAttributes,t.templates)if(t.templates instanceof Document||"string"==typeof t.templates)this.addTemplates(t.templates);else for(const e in t.templates)this.addTemplate(e,t.templates[e]);this.getRawTemplate=t.getTemplate}static registerTemplate(t,e){Se[t]=e}addTemplate(t,e){if(t in this.rawTemplates){if(!this.dev)return;const n=this.rawTemplates[t];if(("string"==typeof n?n:n instanceof Element?n.outerHTML:n.toString())===("string"==typeof e?e:e.outerHTML))return;throw new o(`Template ${t} already defined with different content`)}this.rawTemplates[t]=e}addTemplates(t){if(t){t=t instanceof Document?t:Ee(t);for(const e of t.querySelectorAll("[t-name]")){const t=e.getAttribute("t-name");this.addTemplate(t,e)}}}getTemplate(t){var e;if(!(t in this.templates)){const n=(null===(e=this.getRawTemplate)||void 0===e?void 0:e.call(this,t))||this.rawTemplates[t];if(void 0===n){let e="";try{e=` (for component "${ee().component.constructor.name}")`}catch{}throw new o(`Missing template: "${t}"${e}`)}const s="function"!=typeof n||n instanceof Element?this._compileTemplate(t,n):n,r=this.templates;this.templates[t]=function(e,n){return r[t].call(this,e,n)};const i=s(this,_e,Ae);this.templates[t]=i}return this.templates[t]}_compileTemplate(t,e){throw new o("Unable to compile a template. Please use owl full build instead")}callTemplate(t,e,n,o,r){return s(e,this.getTemplate(e).call(t,n,o,r+e))}}const Se={};function Oe(...t){const e="__template__"+Oe.nextId++,n=String.raw(...t);return Se[e]=n,e}Oe.nextId=1,Ce.registerTemplate("__portal__",(function(t,e,n){let{callSlot:s}=n;return function(t,e,n=""){return new de(t.props.target,s(t,e,n,"default",!1,null))}}));const De="true,false,NaN,null,undefined,debugger,console,window,in,instanceof,new,function,return,eval,void,Math,RegExp,Array,Object,Date".split(","),Le=Object.assign(Object.create(null),{and:"&&",or:"||",gt:">",gte:">=",lt:"<",lte:"<="}),Be=Object.assign(Object.create(null),{"{":"LEFT_BRACE","}":"RIGHT_BRACE","[":"LEFT_BRACKET","]":"RIGHT_BRACKET",":":"COLON",",":"COMMA","(":"LEFT_PAREN",")":"RIGHT_PAREN"}),Re="...,.,===,==,+,!==,!=,!,||,&&,>=,>,<=,<,?,-,*,/,%,typeof ,=>,=,;,in ,new ,|,&,^,~".split(","),Ie=[function(t){let e=t[0],n=e;if("'"!==e&&'"'!==e&&"`"!==e)return!1;let s,r=1;for(;t[r]&&t[r]!==n;){if(s=t[r],e+=s,"\\"===s){if(r++,s=t[r],!s)throw new o("Invalid expression");e+=s}r++}if(t[r]!==n)throw new o("Invalid expression");return e+=n,"`"===n?{type:"TEMPLATE_STRING",value:e,replace:t=>e.replace(/\$\{(.*?)\}/g,((e,n)=>"${"+t(n)+"}"))}:{type:"VALUE",value:e}},function(t){let e=t[0];if(e&&e.match(/[0-9]/)){let n=1;for(;t[n]&&t[n].match(/[0-9]|\./);)e+=t[n],n++;return{type:"VALUE",value:e}}return!1},function(t){for(let e of Re)if(t.startsWith(e))return{type:"OPERATOR",value:e};return!1},function(t){let e=t[0];if(e&&e.match(/[a-zA-Z_\$]/)){let n=1;for(;t[n]&&t[n].match(/\w/);)e+=t[n],n++;return e in Le?{type:"OPERATOR",value:Le[e],size:e.length}:{type:"SYMBOL",value:e}}return!1},function(t){const e=t[0];return!(!e||!(e in Be))&&{type:Be[e],value:e}}],je=t=>t&&("LEFT_BRACE"===t.type||"COMMA"===t.type),Me=t=>t&&("RIGHT_BRACE"===t.type||"COMMA"===t.type);function Pe(t){const e=new Set,n=function(t){const e=[];let n,s=!0,r=t;try{for(;s;)if(r=r.trim(),r){for(let t of Ie)if(s=t(r),s){e.push(s),r=r.slice(s.size||s.value.length);break}}else s=!1}catch(t){n=t}if(r.length||n)throw new o(`Tokenizer error: could not tokenize \`${t}\``);return e}(t);let s=0,r=[];for(;s<n.length;){let t=n[s],o=n[s-1],i=n[s+1],l=r[r.length-1];switch(t.type){case"LEFT_BRACE":case"LEFT_BRACKET":r.push(t.type);break;case"RIGHT_BRACE":case"RIGHT_BRACKET":r.pop()}let a="SYMBOL"===t.type&&!De.includes(t.value);if("SYMBOL"!==t.type||De.includes(t.value)||o&&("LEFT_BRACE"===l&&je(o)&&Me(i)&&(n.splice(s+1,0,{type:"COLON",value:":"},{...t}),i=n[s+1]),"OPERATOR"===o.type&&"."===o.value?a=!1:"LEFT_BRACE"!==o.type&&"COMMA"!==o.type||i&&"COLON"===i.type&&(a=!1)),"TEMPLATE_STRING"===t.type&&(t.value=t.replace((t=>Ve(t)))),i&&"OPERATOR"===i.type&&"=>"===i.value)if("RIGHT_PAREN"===t.type){let t=s-1;for(;t>0&&"LEFT_PAREN"!==n[t].type;)"SYMBOL"===n[t].type&&n[t].originalValue&&(n[t].value=n[t].originalValue,e.add(n[t].value)),t--}else e.add(t.value);a&&(t.varName=t.value,e.has(t.value)||(t.originalValue=t.value,t.value=`ctx['${t.value}']`)),s++}for(const t of n)"SYMBOL"===t.type&&t.varName&&e.has(t.value)&&(t.originalValue=t.value,t.value=`_${t.value}`,t.isLocal=!0);return n}const We=new Map([["in "," in "]]);function Ve(t){return Pe(t).map((t=>We.get(t.value)||t.value)).join("")}const Fe=/\{\{.*?\}\}|\#\{.*?\}/g;function Ke(t,e){let n=t.match(Fe);if(n&&n[0].length===t.length)return`(${e(t.slice(2,"{"===n[0][0]?-2:-1))})`;let s=t.replace(Fe,(t=>"${"+e(t.slice(2,"{"===t[0]?-2:-1))+"}"));return"`"+s+"`"}function ze(t){return Ke(t,Ve)}const He=/\s+/g,Ue=document.implementation.createDocument(null,null,null),qe=new Set(["stop","capture","prevent","self","synthetic"]);let Ge={};function Xe(t=""){return Ge[t]=(Ge[t]||0)+1,t+Ge[t]}function Ye(t,e){switch(t){case"input":return"checked"===e||"indeterminate"===e||"value"===e||"readonly"===e||"readOnly"===e||"disabled"===e;case"option":return"selected"===e||"disabled"===e;case"textarea":return"value"===e||"readonly"===e||"readOnly"===e||"disabled"===e;case"select":return"value"===e||"disabled"===e;case"button":case"optgroup":return"disabled"===e}return!1}class Je{constructor(t,e){this.dynamicTagName=null,this.isRoot=!1,this.hasDynamicChildren=!1,this.children=[],this.data=[],this.childNumber=0,this.parentVar="",this.id=Je.nextBlockId++,this.varName="b"+this.id,this.blockName="block"+this.id,this.target=t,this.type=e}insertData(t,e="d"){const n=Xe(e);return this.target.addLine(`let ${n} = ${t};`),this.data.push(n)-1}insert(t){this.currentDom?this.currentDom.appendChild(t):this.dom=t}generateExpr(t){if("block"===this.type){const t=this.children.length;let e=this.data.length?`[${this.data.join(", ")}]`:t?"[]":"";return t&&(e+=", ["+this.children.map((t=>t.varName)).join(", ")+"]"),this.dynamicTagName?`toggler(${this.dynamicTagName}, ${this.blockName}(${this.dynamicTagName})(${e}))`:`${this.blockName}(${e})`}return"list"===this.type?`list(c_block${this.id})`:t}asXmlString(){const t=Ue.createElement("t");return t.appendChild(this.dom),t.innerHTML}}function Ze(t,e){return Object.assign({block:null,index:0,forceNewBlock:!0,translate:t.translate,tKeyExpr:null,nameSpace:t.nameSpace,tModelSelectedExpr:t.tModelSelectedExpr},e)}Je.nextBlockId=1;class Qe{constructor(t,e){this.indentLevel=0,this.loopLevel=0,this.code=[],this.hasRoot=!1,this.hasCache=!1,this.shouldProtectScope=!1,this.hasRefWrapper=!1,this.name=t,this.on=e||null}addLine(t,e){const n=new Array(this.indentLevel+2).join("  ");void 0===e?this.code.push(n+t):this.code.splice(e,0,n+t)}generateCode(){let t=[];t.push(`function ${this.name}(ctx, node, key = "") {`),this.shouldProtectScope&&(t.push("  ctx = Object.create(ctx);"),t.push("  ctx[isBoundary] = 1")),this.hasRefWrapper&&t.push("  let refWrapper = makeRefWrapper(this.__owl__);"),this.hasCache&&(t.push("  let cache = ctx.cache || {};"),t.push("  let nextCache = ctx.cache = {};"));for(let e of this.code)t.push(e);return this.hasRoot||t.push("return text('');"),t.push("}"),t.join("\n  ")}currentKey(t){let e=this.loopLevel?`key${this.loopLevel}`:"key";return t.tKeyExpr&&(e=`${t.tKeyExpr} + ${e}`),e}}const tn=["label","title","placeholder","alt"],en=/^(\s*)([\s\S]+?)(\s*)$/;class nn{constructor(t,e){if(this.blocks=[],this.nextBlockId=1,this.isDebug=!1,this.targets=[],this.target=new Qe("template"),this.translatableAttributes=tn,this.staticDefs=[],this.slotNames=new Set,this.helpers=new Set,this.translateFn=e.translateFn||(t=>t),e.translatableAttributes){const t=new Set(tn);for(let n of e.translatableAttributes)n.startsWith("-")?t.delete(n.slice(1)):t.add(n);this.translatableAttributes=[...t]}this.hasSafeContext=e.hasSafeContext||!1,this.dev=e.dev||!1,this.ast=t,this.templateName=e.name}generateCode(){const t=this.ast;this.isDebug=12===t.type,Je.nextBlockId=1,Ge={},this.compileAST(t,{block:null,index:0,forceNewBlock:!1,isLast:!0,translate:!0,tKeyExpr:null});let e=["  let { text, createBlock, list, multi, html, toggler, comment } = bdom;"];this.helpers.size&&e.push(`let { ${[...this.helpers].join(", ")} } = helpers;`),this.templateName&&e.push(`// Template name: "${this.templateName}"`);for(let{id:t,expr:n}of this.staticDefs)e.push(`const ${t} = ${n};`);if(this.blocks.length){e.push("");for(let t of this.blocks)if(t.dom){let n=t.asXmlString();n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.dynamicTagName?(n=n.replace(/^<\w+/,`<\${tag || '${t.dom.nodeName}'}`),n=n.replace(/\w+>$/,`\${tag || '${t.dom.nodeName}'}>`),e.push(`let ${t.blockName} = tag => createBlock(\`${n}\`);`)):e.push(`let ${t.blockName} = createBlock(\`${n}\`);`)}}if(this.targets.length)for(let t of this.targets)e.push(""),e=e.concat(t.generateCode());e.push(""),e=e.concat("return "+this.target.generateCode());const n=e.join("\n  ");if(this.isDebug){const t=`[Owl Debug]\n${n}`;console.log(t)}return n}compileInNewTarget(t,e,n,s){const o=Xe(t),r=this.target,i=new Qe(o,s);return this.targets.push(i),this.target=i,this.compileAST(e,Ze(n)),this.target=r,o}addLine(t,e){this.target.addLine(t,e)}define(t,e){this.addLine(`const ${t} = ${e};`)}insertAnchor(t,e=t.children.length){const n=`block-child-${e}`,s=Ue.createElement(n);t.insert(s)}createBlock(t,e,n){const s=this.target.hasRoot,o=new Je(this.target,e);return s||(this.target.hasRoot=!0,o.isRoot=!0),t&&(t.children.push(o),"list"===t.type&&(o.parentVar=`c_block${t.id}`)),o}insertBlock(t,e,n){let s=e.generateExpr(t);if(e.parentVar){let t=this.target.currentKey(n);return this.helpers.add("withKey"),void this.addLine(`${e.parentVar}[${n.index}] = withKey(${s}, ${t});`)}n.tKeyExpr&&(s=`toggler(${n.tKeyExpr}, ${s})`),e.isRoot?(this.target.on&&(s=this.wrapWithEventCatcher(s,this.target.on)),this.addLine(`return ${s};`)):this.define(e.varName,s)}captureExpression(t,e=!1){if(!e&&!t.includes("=>"))return Ve(t);const n=Pe(t),s=new Map;return n.map((t=>{if(t.varName&&!t.isLocal){if(!s.has(t.varName)){const e=Xe("v");s.set(t.varName,e),this.define(e,t.value)}t.value=s.get(t.varName)}return t.value})).join("")}translate(t){const e=en.exec(t);return e[1]+this.translateFn(e[2])+e[3]}compileAST(t,e){switch(t.type){case 1:return this.compileComment(t,e);case 0:return this.compileText(t,e);case 2:return this.compileTDomNode(t,e);case 4:return this.compileTEsc(t,e);case 8:return this.compileTOut(t,e);case 5:return this.compileTIf(t,e);case 9:return this.compileTForeach(t,e);case 10:return this.compileTKey(t,e);case 3:return this.compileMulti(t,e);case 7:return this.compileTCall(t,e);case 15:return this.compileTCallBlock(t,e);case 6:return this.compileTSet(t,e);case 11:return this.compileComponent(t,e);case 12:return this.compileDebug(t,e);case 13:return this.compileLog(t,e);case 14:return this.compileTSlot(t,e);case 16:return this.compileTTranslation(t,e);case 17:return this.compileTPortal(t,e)}}compileDebug(t,e){return this.addLine("debugger;"),t.content?this.compileAST(t.content,e):null}compileLog(t,e){return this.addLine(`console.log(${Ve(t.expr)});`),t.content?this.compileAST(t.content,e):null}compileComment(t,e){let{block:n,forceNewBlock:s}=e;if(!n||s)n=this.createBlock(n,"comment",e),this.insertBlock(`comment(\`${t.value}\`)`,n,{...e,forceNewBlock:s&&!n});else{const e=Ue.createComment(t.value);n.insert(e)}return n.varName}compileText(t,e){let{block:n,forceNewBlock:s}=e,o=t.value;if(o&&!1!==e.translate&&(o=this.translate(o)),e.inPreTag||(o=o.replace(He," ")),!n||s)n=this.createBlock(n,"text",e),this.insertBlock(`text(\`${o}\`)`,n,{...e,forceNewBlock:s&&!n});else{const e=0===t.type?Ue.createTextNode:Ue.createComment;n.insert(e.call(Ue,o))}return n.varName}generateHandlerCode(t,e){const n=t.split(".").slice(1).map((t=>{if(!qe.has(t))throw new o(`Unknown event modifier: '${t}'`);return`"${t}"`}));let s="";return n.length&&(s=`${n.join(",")}, `),`[${s}${this.captureExpression(e)}, ctx]`}compileTDomNode(t,e){let{block:n,forceNewBlock:s}=e;const o=!n||s||null!==t.dynamicTag||t.ns;let r=this.target.code.length;if(o&&((t.dynamicTag||e.tKeyExpr||t.ns)&&e.block&&this.insertAnchor(e.block),n=this.createBlock(n,"block",e),this.blocks.push(n),t.dynamicTag)){const e=Xe("tag");this.define(e,Ve(t.dynamicTag)),n.dynamicTagName=e}const i={};for(let s in t.attrs){let o,r;if(s.startsWith("t-attf")){o=ze(t.attrs[s]);const e=n.insertData(o,"attr");r=s.slice(7),i["block-attribute-"+e]=r}else if(s.startsWith("t-att"))if(r="t-att"===s?null:s.slice(6),o=Ve(t.attrs[s]),r&&Ye(t.tag,r))"readonly"===r&&(r="readOnly"),o="value"===r?`new String((${o}) === 0 ? 0 : ((${o}) || ""))`:`new Boolean(${o})`,i[`block-property-${n.insertData(o,"prop")}`]=r;else{const t=n.insertData(o,"attr");"t-att"===s?i["block-attributes"]=String(t):i[`block-attribute-${t}`]=r}else this.translatableAttributes.includes(s)?i[s]=this.translateFn(t.attrs[s]):(o=`"${t.attrs[s]}"`,r=s,i[s]=t.attrs[s]);"value"===r&&e.tModelSelectedExpr&&(i[`block-attribute-${n.insertData(`${e.tModelSelectedExpr} === ${o}`,"attr")}`]="selected")}let l;if(t.model){const{hasDynamicChildren:e,baseExpr:s,expr:o,eventType:r,shouldNumberize:a,shouldTrim:c,targetAttr:h,specialInitTargetAttr:d}=t.model,u=Ve(s),p=Xe("bExpr");this.define(p,u);const f=Ve(o),m=Xe("expr");this.define(m,f);const g=`${p}[${m}]`;let b;if(d){let e=h in i&&`'${i[h]}'`;if(!e&&t.attrs){const n=t.attrs[`t-att-${h}`];n&&(e=Ve(n))}b=n.insertData(`${g} === ${e}`,"prop"),i[`block-property-${b}`]=d}else e?(l=`${Xe("bValue")}`,this.define(l,g)):(b=n.insertData(`${g}`,"prop"),i[`block-property-${b}`]=h);this.helpers.add("toNumber");let v=`ev.target.${h}`;v=c?`${v}.trim()`:v,v=a?`toNumber(${v})`:v;const y=`[(ev) => { ${g} = ${v}; }]`;b=n.insertData(y,"hdlr"),i[`block-handler-${b}`]=r}for(let e in t.on){const s=this.generateHandlerCode(e,t.on[e]);i[`block-handler-${n.insertData(s,"hdlr")}`]=e}if(t.ref){this.dev&&(this.helpers.add("makeRefWrapper"),this.target.hasRefWrapper=!0);const e=Fe.test(t.ref);let s=`\`${t.ref}\``;e&&(s=Ke(t.ref,(t=>this.captureExpression(t,!0))));let o=`(el) => this.__owl__.setRef((${s}), el)`;this.dev&&(o=`refWrapper(${s}, ${o})`);const r=n.insertData(o,"ref");i["block-ref"]=String(r)}const a=t.ns||e.nameSpace,c=a?Ue.createElementNS(a,t.tag):Ue.createElement(t.tag);for(const[t,e]of Object.entries(i))"class"===t&&""===e||c.setAttribute(t,e);if(n.insert(c),t.content.length){const s=n.currentDom;n.currentDom=c;const o=t.content;for(let s=0;s<o.length;s++){const r=t.content[s],i=Ze(e,{block:n,index:n.childNumber,forceNewBlock:!1,isLast:e.isLast&&s===o.length-1,tKeyExpr:e.tKeyExpr,nameSpace:a,tModelSelectedExpr:l,inPreTag:e.inPreTag||"pre"===t.tag});this.compileAST(r,i)}n.currentDom=s}if(o&&(this.insertBlock(`${n.blockName}(ddd)`,n,e),n.children.length&&n.hasDynamicChildren)){const t=this.target.code,e=n.children.slice();let s=e.shift();for(let n=r;n<t.length&&(!t[n].trimStart().startsWith(`const ${s.varName} `)||(t[n]=t[n].replace(`const ${s.varName}`,s.varName),s=e.shift(),s));n++);this.addLine(`let ${n.children.map((t=>t.varName)).join(", ")};`,r)}return n.varName}compileTEsc(t,e){let n,{block:s,forceNewBlock:o}=e;if("0"===t.expr?(this.helpers.add("zero"),n="ctx[zero]"):(n=Ve(t.expr),t.defaultValue&&(this.helpers.add("withDefault"),n=`withDefault(${n}, \`${t.defaultValue}\`)`)),!s||o)s=this.createBlock(s,"text",e),this.insertBlock(`text(${n})`,s,{...e,forceNewBlock:o&&!s});else{const t=s.insertData(n,"txt"),e=Ue.createElement(`block-text-${t}`);s.insert(e)}return s.varName}compileTOut(t,e){let n,{block:s}=e;if(s&&this.insertAnchor(s),s=this.createBlock(s,"html",e),"0"===t.expr)this.helpers.add("zero"),n="ctx[zero]";else if(t.body){let s=null;s=Je.nextBlockId;const o=Ze(e);this.compileAST({type:3,content:t.body},o),this.helpers.add("safeOutput"),n=`safeOutput(${Ve(t.expr)}, b${s})`}else this.helpers.add("safeOutput"),n=`safeOutput(${Ve(t.expr)})`;return this.insertBlock(n,s,e),s.varName}compileTIfBranch(t,e,n){this.target.indentLevel++;let s=e.children.length;this.compileAST(t,Ze(n,{block:e,index:n.index})),e.children.length>s&&this.insertAnchor(e,s),this.target.indentLevel--}compileTIf(t,e,n){let{block:s,forceNewBlock:o}=e;const r=this.target.code.length,i=!s||"multi"!==s.type&&o;if(s&&(s.hasDynamicChildren=!0),(!s||"multi"!==s.type&&o)&&(s=this.createBlock(s,"multi",e)),this.addLine(`if (${Ve(t.condition)}) {`),this.compileTIfBranch(t.content,s,e),t.tElif)for(let n of t.tElif)this.addLine(`} else if (${Ve(n.condition)}) {`),this.compileTIfBranch(n.content,s,e);if(t.tElse&&(this.addLine("} else {"),this.compileTIfBranch(t.tElse,s,e)),this.addLine("}"),i){if(s.children.length){const t=this.target.code,e=s.children.slice();let n=e.shift();for(let s=r;s<t.length&&(!t[s].trimStart().startsWith(`const ${n.varName} `)||(t[s]=t[s].replace(`const ${n.varName}`,n.varName),n=e.shift(),n));s++);this.addLine(`let ${s.children.map((t=>t.varName)).join(", ")};`,r)}const t=s.children.map((t=>t.varName)).join(", ");this.insertBlock(`multi([${t}])`,s,e)}return s.varName}compileTForeach(t,e){let{block:n}=e;n&&this.insertAnchor(n),n=this.createBlock(n,"list",e),this.target.loopLevel++;const s=`i${this.target.loopLevel}`;this.addLine("ctx = Object.create(ctx);");const o=`v_block${n.id}`,r=`k_block${n.id}`,i=`l_block${n.id}`,l=`c_block${n.id}`;let a;this.helpers.add("prepareList"),this.define(`[${r}, ${o}, ${i}, ${l}]`,`prepareList(${Ve(t.collection)});`),this.dev&&this.define(`keys${n.id}`,"new Set()"),this.addLine(`for (let ${s} = 0; ${s} < ${i}; ${s}++) {`),this.target.indentLevel++,this.addLine(`ctx[\`${t.elem}\`] = ${r}[${s}];`),t.hasNoFirst||this.addLine(`ctx[\`${t.elem}_first\`] = ${s} === 0;`),t.hasNoLast||this.addLine(`ctx[\`${t.elem}_last\`] = ${s} === ${r}.length - 1;`),t.hasNoIndex||this.addLine(`ctx[\`${t.elem}_index\`] = ${s};`),t.hasNoValue||this.addLine(`ctx[\`${t.elem}_value\`] = ${o}[${s}];`),this.define(`key${this.target.loopLevel}`,t.key?Ve(t.key):s),this.dev&&(this.helpers.add("OwlError"),this.addLine(`if (keys${n.id}.has(String(key${this.target.loopLevel}))) { throw new OwlError(\`Got duplicate key in t-foreach: \${key${this.target.loopLevel}}\`)}`),this.addLine(`keys${n.id}.add(String(key${this.target.loopLevel}));`)),t.memo&&(this.target.hasCache=!0,a=Xe(),this.define(`memo${a}`,Ve(t.memo)),this.define(`vnode${a}`,`cache[key${this.target.loopLevel}];`),this.addLine(`if (vnode${a}) {`),this.target.indentLevel++,this.addLine(`if (shallowEqual(vnode${a}.memo, memo${a})) {`),this.target.indentLevel++,this.addLine(`${l}[${s}] = vnode${a};`),this.addLine(`nextCache[key${this.target.loopLevel}] = vnode${a};`),this.addLine("continue;"),this.target.indentLevel--,this.addLine("}"),this.target.indentLevel--,this.addLine("}"));const c=Ze(e,{block:n,index:s});return this.compileAST(t.body,c),t.memo&&this.addLine(`nextCache[key${this.target.loopLevel}] = Object.assign(${l}[${s}], {memo: memo${a}});`),this.target.indentLevel--,this.target.loopLevel--,this.addLine("}"),e.isLast||this.addLine("ctx = ctx.__proto__;"),this.insertBlock("l",n,e),n.varName}compileTKey(t,e){const n=Xe("tKey_");return this.define(n,Ve(t.expr)),e=Ze(e,{tKeyExpr:n,block:e.block,index:e.index}),this.compileAST(t.content,e)}compileMulti(t,e){let{block:n,forceNewBlock:s}=e;const o=!n||s;let r=this.target.code.length;if(o){let s=null;if(t.content.filter((t=>6!==t.type)).length<=1){for(let n of t.content){const t=this.compileAST(n,e);s=s||t}return s}n=this.createBlock(n,"multi",e)}let i=0;for(let s=0,o=t.content.length;s<o;s++){const r=t.content[s],l=6===r.type,a=Ze(e,{block:n,index:i,forceNewBlock:!l,isLast:e.isLast&&s===o-1});this.compileAST(r,a),l||i++}if(o){if(n.hasDynamicChildren&&n.children.length){const t=this.target.code,e=n.children.slice();let s=e.shift();for(let n=r;n<t.length&&(!t[n].trimStart().startsWith(`const ${s.varName} `)||(t[n]=t[n].replace(`const ${s.varName}`,s.varName),s=e.shift(),s));n++);this.addLine(`let ${n.children.map((t=>t.varName)).join(", ")};`,r)}const t=n.children.map((t=>t.varName)).join(", ");this.insertBlock(`multi([${t}])`,n,e)}return n.varName}compileTCall(t,e){let{block:n,forceNewBlock:s}=e,o=e.ctxVar||"ctx";t.context&&(o=Xe("ctx"),this.addLine(`let ${o} = ${Ve(t.context)};`));const r=Fe.test(t.name),i=r?ze(t.name):"`"+t.name+"`";if(n&&!s&&this.insertAnchor(n),n=this.createBlock(n,"multi",e),t.body){this.addLine(`${o} = Object.create(${o});`),this.addLine(`${o}[isBoundary] = 1;`),this.helpers.add("isBoundary");const n=Ze(e,{ctxVar:o}),s=this.compileMulti({type:3,content:t.body},n);s&&(this.helpers.add("zero"),this.addLine(`${o}[zero] = ${s};`))}const l=`key + \`${this.generateComponentKey()}\``;if(r){const t=Xe("template");this.staticDefs.find((t=>"call"===t.id))||this.staticDefs.push({id:"call",expr:"app.callTemplate.bind(app)"}),this.define(t,i),this.insertBlock(`call(this, ${t}, ${o}, node, ${l})`,n,{...e,forceNewBlock:!n})}else{const t=Xe("callTemplate_");this.staticDefs.push({id:t,expr:`app.getTemplate(${i})`}),this.insertBlock(`${t}.call(this, ${o}, node, ${l})`,n,{...e,forceNewBlock:!n})}return t.body&&!e.isLast&&this.addLine(`${o} = ${o}.__proto__;`),n.varName}compileTCallBlock(t,e){let{block:n,forceNewBlock:s}=e;return n&&(s||this.insertAnchor(n)),n=this.createBlock(n,"multi",e),this.insertBlock(Ve(t.name),n,{...e,forceNewBlock:!n}),n.varName}compileTSet(t,e){this.target.shouldProtectScope=!0,this.helpers.add("isBoundary").add("withDefault");const n=t.value?Ve(t.value||""):"null";if(t.body){this.helpers.add("LazyValue");const s={type:3,content:t.body};let o=`new LazyValue(${this.compileInNewTarget("value",s,e)}, ctx, this, node, ${this.target.currentKey(e)})`;o=t.value?o?`withDefault(${n}, ${o})`:n:o,this.addLine(`ctx[\`${t.name}\`] = ${o};`)}else{let s;if(t.defaultValue){const o=e.translate?this.translate(t.defaultValue):t.defaultValue;s=t.value?`withDefault(${n}, \`${o}\`)`:`\`${o}\``}else s=n;this.helpers.add("setContextValue"),this.addLine(`setContextValue(${e.ctxVar||"ctx"}, "${t.name}", ${s});`)}return null}generateComponentKey(){const t=[Xe("__")];for(let e=0;e<this.target.loopLevel;e++)t.push(`\${key${e+1}}`);return t.join("__")}formatProp(t,e){if(e=this.captureExpression(e),t.includes(".")){let[n,s]=t.split(".");switch(t=n,s){case"bind":e=`(${e}).bind(this)`;break;case"alike":break;default:throw new o("Invalid prop suffix")}}return`${t=/^[a-z_]+$/i.test(t)?t:`'${t}'`}: ${e||void 0}`}formatPropObject(t){return Object.entries(t).map((([t,e])=>this.formatProp(t,e)))}getPropString(t,e){let n=`{${t.join(",")}}`;return e&&(n=`Object.assign({}, ${Ve(e)}${t.length?", "+n:""})`),n}compileComponent(t,e){let{block:n}=e;const s="slots"in(t.props||{}),o=t.props?this.formatPropObject(t.props):[];let r="";if(t.slots){let n="ctx";!this.target.loopLevel&&this.hasSafeContext||(n=Xe("ctx"),this.helpers.add("capture"),this.define(n,"capture(ctx)"));let s=[];for(let o in t.slots){const r=t.slots[o],i=[];if(r.content){const t=this.compileInNewTarget("slot",r.content,e,r.on);i.push(`__render: ${t}.bind(this), __ctx: ${n}`)}const l=t.slots[o].scope;l&&i.push(`__scope: "${l}"`),t.slots[o].attrs&&i.push(...this.formatPropObject(t.slots[o].attrs));const a=`{${i.join(", ")}}`;s.push(`'${o}': ${a}`)}r=`{${s.join(", ")}}`}!r||t.dynamicProps||s||(this.helpers.add("markRaw"),o.push(`slots: markRaw(${r})`));let i,l=this.getPropString(o,t.dynamicProps);(r&&(t.dynamicProps||s)||this.dev)&&(i=Xe("props"),this.define(i,l),l=i),r&&(t.dynamicProps||s)&&(this.helpers.add("markRaw"),this.addLine(`${i}.slots = markRaw(Object.assign(${r}, ${i}.slots))`));const a=this.generateComponentKey();let c;t.isDynamic?(c=Xe("Comp"),this.define(c,Ve(t.name))):c=`\`${t.name}\``,this.dev&&this.addLine(`helpers.validateProps(${c}, ${i}, this);`),n&&(!1===e.forceNewBlock||e.tKeyExpr)&&this.insertAnchor(n);let h=`key + \`${a}\``;e.tKeyExpr&&(h=`${e.tKeyExpr} + ${h}`);let d=Xe("comp");const u=[];for(let e in t.props||{}){let[t,n]=e.split(".");n||u.push(`"${t}"`)}this.staticDefs.push({id:d,expr:`app.createComponent(${t.isDynamic?null:c}, ${!t.isDynamic}, ${!!t.slots}, ${!!t.dynamicProps}, [${u}])`}),t.isDynamic&&(h=`(${c}).name + ${h}`);let p=`${d}(${l}, ${h}, node, this, ${t.isDynamic?c:null})`;return t.isDynamic&&(p=`toggler(${c}, ${p})`),t.on&&(p=this.wrapWithEventCatcher(p,t.on)),n=this.createBlock(n,"multi",e),this.insertBlock(p,n,e),n.varName}wrapWithEventCatcher(t,e){this.helpers.add("createCatcher");let n=Xe("catcher"),s={},o=[];for(let t in e){let n=Xe("hdlr"),r=o.push(n)-1;s[t]=r;const i=this.generateHandlerCode(t,e[t]);this.define(n,i)}return this.staticDefs.push({id:n,expr:`createCatcher(${JSON.stringify(s)})`}),`${n}(${t}, [${o.join(",")}])`}compileTSlot(t,e){this.helpers.add("callSlot");let n,s,{block:o}=e,r=!1,i=!1;t.name.match(Fe)?(r=!0,i=!0,s=ze(t.name)):(s="'"+t.name+"'",i=i||this.slotNames.has(t.name),this.slotNames.add(t.name));const l=t.attrs?t.attrs["t-props"]:null;t.attrs&&delete t.attrs["t-props"];let a=this.target.loopLevel?`key${this.target.loopLevel}`:"key";i&&(a=`${a} + \`${this.generateComponentKey()}\``);const c=t.attrs?this.formatPropObject(t.attrs):[],h=this.getPropString(c,l);if(t.defaultContent)n=`callSlot(ctx, node, ${a}, ${s}, ${r}, ${h}, ${this.compileInNewTarget("defaultContent",t.defaultContent,e)}.bind(this))`;else if(r){let t=Xe("slot");this.define(t,s),n=`toggler(${t}, callSlot(ctx, node, ${a}, ${t}, ${r}, ${h}))`}else n=`callSlot(ctx, node, ${a}, ${s}, ${r}, ${h})`;return t.on&&(n=this.wrapWithEventCatcher(n,t.on)),o&&this.insertAnchor(o),o=this.createBlock(o,"multi",e),this.insertBlock(n,o,{...e,forceNewBlock:!1}),o.varName}compileTTranslation(t,e){return t.content?this.compileAST(t.content,Object.assign({},e,{translate:!1})):null}compileTPortal(t,e){this.staticDefs.find((t=>"Portal"===t.id))||this.staticDefs.push({id:"Portal",expr:"app.Portal"});let{block:n}=e;const s=this.compileInNewTarget("slot",t.content,e),o=this.generateComponentKey();let r="ctx";!this.target.loopLevel&&this.hasSafeContext||(r=Xe("ctx"),this.helpers.add("capture"),this.define(r,"capture(ctx)"));let i=Xe("comp");this.staticDefs.push({id:i,expr:"app.createComponent(null, false, true, false, false)"});const l=`${i}({target: ${Ve(t.target)},slots: {'default': {__render: ${s}.bind(this), __ctx: ${r}}}}, key + \`${o}\`, node, ctx, Portal)`;return n&&this.insertAnchor(n),n=this.createBlock(n,"multi",e),this.insertBlock(l,n,{...e,forceNewBlock:!1}),n.varName}}const sn=new WeakMap;function on(t){var e;return function(t){let e=t.querySelectorAll("[t-elif], [t-else]");for(let t=0,n=e.length;t<n;t++){let n=e[t],s=n.previousElementSibling,r=t=>s.getAttribute(t),i=t=>+!!n.getAttribute(t);if(!s||!r("t-if")&&!r("t-elif"))throw new o("t-elif and t-else directives must be preceded by a t-if or t-elif directive");{if(r("t-foreach"))throw new o("t-if cannot stay at the same level as t-foreach when using t-elif or t-else");if(["t-if","t-elif","t-else"].map(i).reduce((function(t,e){return t+e}))>1)throw new o("Only one conditional branching directive is allowed per node");let t;for(;(t=n.previousSibling)!==s;){if(t.nodeValue.trim().length&&8!==t.nodeType)throw new o("text is not allowed between branching directives");t.remove()}}}}(e=t),function(t){for(const e of["t-esc","t-out"]){const n=[...t.querySelectorAll(`[${e}]`)].filter((t=>t.tagName[0]===t.tagName[0].toUpperCase()||t.hasAttribute("t-component")));for(const t of n){if(t.childNodes.length)throw new o(`Cannot have ${e} on a component that already has content`);const n=t.getAttribute(e);t.removeAttribute(e);const s=t.ownerDocument.createElement("t");null!=n&&s.setAttribute(e,n),t.appendChild(s)}}}(e),rn(t,{inPreTag:!1})||{type:0,value:""}}function rn(t,e){return t instanceof Element?function(t,e){if(t.hasAttribute("t-debug"))return t.removeAttribute("t-debug"),{type:12,content:rn(t,e)};if(t.hasAttribute("t-log")){const n=t.getAttribute("t-log");return t.removeAttribute("t-log"),{type:13,expr:n,content:rn(t,e)}}return null}(t,e)||function(t,e){if(!t.hasAttribute("t-foreach"))return null;const n=t.outerHTML,s=t.getAttribute("t-foreach");t.removeAttribute("t-foreach");const r=t.getAttribute("t-as")||"";t.removeAttribute("t-as");const i=t.getAttribute("t-key");if(!i)throw new o(`"Directive t-foreach should always be used with a t-key!" (expression: t-foreach="${s}" t-as="${r}")`);t.removeAttribute("t-key");const l=t.getAttribute("t-memo")||"";t.removeAttribute("t-memo");const a=rn(t,e);if(!a)return null;const c=!n.includes("t-call");return{type:9,collection:s,elem:r,body:a,memo:l,key:i,hasNoFirst:c&&!n.includes(`${r}_first`),hasNoLast:c&&!n.includes(`${r}_last`),hasNoIndex:c&&!n.includes(`${r}_index`),hasNoValue:c&&!n.includes(`${r}_value`)}}(t,e)||function(t,e){if(!t.hasAttribute("t-if"))return null;const n=t.getAttribute("t-if");t.removeAttribute("t-if");const s=rn(t,e)||{type:0,value:""};let o=t.nextElementSibling;const r=[];for(;o&&o.hasAttribute("t-elif");){const t=o.getAttribute("t-elif");o.removeAttribute("t-elif");const n=rn(o,e),s=o.nextElementSibling;o.remove(),o=s,n&&r.push({condition:t,content:n})}let i=null;return o&&o.hasAttribute("t-else")&&(o.removeAttribute("t-else"),i=rn(o,e),o.remove()),{type:5,condition:n,content:s,tElif:r.length?r:null,tElse:i}}(t,e)||function(t,e){if(!t.hasAttribute("t-portal"))return null;const n=t.getAttribute("t-portal");t.removeAttribute("t-portal");const s=rn(t,e);return s?{type:17,target:n,content:s}:{type:0,value:""}}(t,e)||function(t,e){if(!t.hasAttribute("t-call"))return null;const n=t.getAttribute("t-call"),s=t.getAttribute("t-call-context");if(t.removeAttribute("t-call"),t.removeAttribute("t-call-context"),"t"!==t.tagName){const o=rn(t,e),r={type:7,name:n,body:null,context:s};if(o&&2===o.type)return o.content=[r],o;if(o&&11===o.type)return{...o,slots:{default:{content:r,scope:null,on:null,attrs:null}}}}const o=un(t,e);return{type:7,name:n,body:o.length?o:null,context:s}}(t,e)||function(t,e){if(!t.hasAttribute("t-call-block"))return null;return{type:15,name:t.getAttribute("t-call-block")}}(t)||function(t,e){if(!t.hasAttribute("t-esc"))return null;const n=t.getAttribute("t-esc");t.removeAttribute("t-esc");const s={type:4,expr:n,defaultValue:t.textContent||""};let o=t.getAttribute("t-ref");t.removeAttribute("t-ref");const r=rn(t,e);return r&&2===r.type?{...r,ref:o,content:[s]}:s}(t,e)||function(t,e){if(!t.hasAttribute("t-out")&&!t.hasAttribute("t-raw"))return null;t.hasAttribute("t-raw")&&console.warn('t-raw has been deprecated in favor of t-out. If the value to render is not wrapped by the "markup" function, it will be escaped');const n=t.getAttribute("t-out")||t.getAttribute("t-raw");t.removeAttribute("t-out"),t.removeAttribute("t-raw");const s={type:8,expr:n,body:null},o=t.getAttribute("t-ref");t.removeAttribute("t-ref");const r=rn(t,e);return r&&2===r.type?(s.body=r.content.length?r.content:null,{...r,ref:o,content:[s]}):s}(t,e)||function(t,e){if(!t.hasAttribute("t-key"))return null;const n=t.getAttribute("t-key");t.removeAttribute("t-key");const s=rn(t,e);return s?{type:10,expr:n,content:s}:null}(t,e)||function(t,e){return"off"!==t.getAttribute("t-translation")?null:(t.removeAttribute("t-translation"),{type:16,content:rn(t,e)})}(t,e)||function(t,e){if(!t.hasAttribute("t-slot"))return null;const n=t.getAttribute("t-slot");t.removeAttribute("t-slot");let s=null,o=null;for(let e of t.getAttributeNames()){const n=t.getAttribute(e);e.startsWith("t-on-")?(o=o||{},o[e.slice(5)]=n):(s=s||{},s[e]=n)}return{type:14,name:n,attrs:s,on:o,defaultContent:pn(t,e)}}(t,e)||function(t,e){let n=t.tagName;const s=n[0];let r=t.hasAttribute("t-component");if(r&&"t"!==n)throw new o(`Directive 't-component' can only be used on <t> nodes (used on a <${n}>)`);if(s!==s.toUpperCase()&&!r)return null;r&&(n=t.getAttribute("t-component"),t.removeAttribute("t-component"));const i=t.getAttribute("t-props");t.removeAttribute("t-props");const l=t.getAttribute("t-slot-scope");t.removeAttribute("t-slot-scope");let a=null,c=null;for(let e of t.getAttributeNames()){const n=t.getAttribute(e);if(e.startsWith("t-")){if(!e.startsWith("t-on-")){const t=dn.get(e.split("-").slice(0,2).join("-"));throw new o(t||`unsupported directive on Component: ${e}`)}a=a||{},a[e.slice(5)]=n}else c=c||{},c[e]=n}let h=null;if(t.hasChildNodes()){const n=t.cloneNode(!0),s=Array.from(n.querySelectorAll("[t-set-slot]"));for(let t of s){if("t"!==t.tagName)throw new o(`Directive 't-set-slot' can only be used on <t> nodes (used on a <${t.tagName}>)`);const s=t.getAttribute("t-set-slot");let r=t.parentElement,i=!1;for(;r&&r!==n;){if(r.hasAttribute("t-component")||r.tagName[0]===r.tagName[0].toUpperCase()){i=!0;break}r=r.parentElement}if(i||!r)continue;t.removeAttribute("t-set-slot"),t.remove();const l=rn(t,e);let a=null,c=null,d=null;for(let e of t.getAttributeNames()){const n=t.getAttribute(e);"t-slot-scope"!==e?e.startsWith("t-on-")?(a=a||{},a[e.slice(5)]=n):(c=c||{},c[e]=n):d=n}h=h||{},h[s]={content:l,on:a,attrs:c,scope:d}}const r=pn(n,e);h=h||{},r&&!h.default&&(h.default={content:r,on:a,attrs:null,scope:l})}return{type:11,name:n,isDynamic:r,dynamicProps:i,props:c,slots:h,on:a}}(t,e)||function(t,e){const{tagName:n}=t,s=t.getAttribute("t-tag");if(t.removeAttribute("t-tag"),"t"===n&&!s)return null;if(n.startsWith("block-"))throw new o(`Invalid tag name: '${n}'`);e=Object.assign({},e),"pre"===n&&(e.inPreTag=!0);let r=!e.nameSpace&&hn.has(n)?"http://www.w3.org/2000/svg":null;const i=t.getAttribute("t-ref");t.removeAttribute("t-ref");const l=t.getAttributeNames();let a=null,c=null,h=null;for(let s of l){const i=t.getAttribute(s);if("t-on"===s||"t-on-"===s)throw new o("Missing event name with t-on directive");if(s.startsWith("t-on-"))c=c||{},c[s.slice(5)]=i;else if(s.startsWith("t-model")){if(!["input","select","textarea"].includes(n))throw new o("The t-model directive only works with <input>, <textarea> and <select>");let r,l;if(an.test(i)){const t=i.lastIndexOf(".");r=i.slice(0,t),l=`'${i.slice(t+1)}'`}else{if(!cn.test(i))throw new o(`Invalid t-model expression: "${i}" (it should be assignable)`);{const t=i.lastIndexOf("[");r=i.slice(0,t),l=i.slice(t+1,-1)}}const a=t.getAttribute("type"),c="input"===n,d="select"===n,u=c&&"checkbox"===a,p=c&&"radio"===a,f=s.includes(".trim"),m=f||s.includes(".lazy");h={baseExpr:r,expr:l,targetAttr:u?"checked":"value",specialInitTargetAttr:p?"checked":null,eventType:p?"click":d||m?"change":"input",hasDynamicChildren:!1,shouldTrim:f,shouldNumberize:s.includes(".number")},d&&((e=Object.assign({},e)).tModelInfo=h)}else{if(s.startsWith("block-"))throw new o(`Invalid attribute: '${s}'`);if("xmlns"===s)r=i;else if("t-name"!==s){if(s.startsWith("t-")&&!s.startsWith("t-att"))throw new o(`Unknown QWeb directive: '${s}'`);const t=e.tModelInfo;t&&["t-att-value","t-attf-value"].includes(s)&&(t.hasDynamicChildren=!0),a=a||{},a[s]=i}}}r&&(e.nameSpace=r);return{type:2,tag:n,dynamicTag:s,attrs:a,on:c,ref:i,content:un(t,e),model:h,ns:r}}(t,e)||function(t,e){if(!t.hasAttribute("t-set"))return null;const n=t.getAttribute("t-set"),s=t.getAttribute("t-value")||null,o=t.innerHTML===t.textContent&&t.textContent||null;let r=null;return t.textContent!==t.innerHTML&&(r=un(t,e)),{type:6,name:n,value:s,defaultValue:o,body:r}}(t,e)||function(t,e){return"t"!==t.tagName?null:pn(t,e)}(t,e):function(t,e){if(t.nodeType===Node.TEXT_NODE){let n=t.textContent||"";return e.inPreTag||!ln.test(n)||n.trim()?{type:0,value:n}:null}return t.nodeType===Node.COMMENT_NODE?{type:1,value:t.textContent||""}:null}(t,e)}const ln=/[\r\n]/,an=/\.[\w_]+\s*$/,cn=/\[[^\[]+\]\s*$/,hn=new Set(["svg","g","path"]),dn=new Map([["t-ref","t-ref is no longer supported on components. Consider exposing only the public part of the component's API through a callback prop."],["t-att","t-att makes no sense on component: props are already treated as expressions"],["t-attf","t-attf is not supported on components: use template strings for string interpolation in props"]]);function un(t,e){const n=[];for(let s of t.childNodes){const t=rn(s,e);t&&(3===t.type?n.push(...t.content):n.push(t))}return n}function pn(t,e){const n=un(t,e);switch(n.length){case 0:return null;case 1:return n[0];default:return{type:3,content:n}}}class fn{constructor(){this.tasks=new Set,this.frame=0,this.delayedRenders=[],this.cancelledNodes=new Set,this.requestAnimationFrame=fn.requestAnimationFrame}addFiber(t){this.tasks.add(t.root)}scheduleDestroy(t){this.cancelledNodes.add(t),0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}flush(){if(this.delayedRenders.length){let t=this.delayedRenders;this.delayedRenders=[];for(let e of t)e.root&&3!==e.node.status&&e.node.fiber===e&&e.render()}0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}processTasks(){this.frame=0;for(let t of this.cancelledNodes)t._destroy();this.cancelledNodes.clear();for(let t of this.tasks)this.processFiber(t);for(let t of this.tasks)3===t.node.status&&this.tasks.delete(t)}processFiber(t){if(t.root!==t)return void this.tasks.delete(t);const e=yt.has(t);e&&0!==t.counter?this.tasks.delete(t):3!==t.node.status?0===t.counter&&(e||t.complete(),this.tasks.delete(t)):this.tasks.delete(t)}}fn.requestAnimationFrame=window.requestAnimationFrame.bind(window);let mn=!1;const gn=new Set;window.__OWL_DEVTOOLS__||(window.__OWL_DEVTOOLS__={apps:gn,Fiber:Tt,RootFiber:At,toRaw:Mt,reactive:Ut});class bn extends Ce{constructor(t,e={}){super(e),this.scheduler=new fn,this.root=null,this.name=e.name||"",this.Root=t,gn.add(this),e.test&&(this.dev=!0),this.warnIfNoStaticProps=e.warnIfNoStaticProps||!1,!this.dev||e.test||mn||(console.info(`Owl is running in 'dev' mode.\n\nThis is not suitable for production use.\nSee https://github.com/odoo/owl/blob/${window.owl?window.owl.__info__.hash:"master"}/doc/reference/app.md#configuration for more information.`),mn=!0);const n=e.env||{},s=Object.getOwnPropertyDescriptors(n);this.env=Object.freeze(Object.create(Object.getPrototypeOf(n),s)),this.props=e.props||{}}mount(t,e){bn.validateTarget(t),this.dev&&Te(this.Root,this.props,{__owl__:{app:this}});const n=this.makeNode(this.Root,this.props),s=this.mountNode(n,t,e);return this.root=n,s}makeNode(t,e){return new re(t,e,this,null,null)}mountNode(t,e,n){const s=new Promise(((e,n)=>{let s=!1;t.mounted.push((()=>{e(t.component),s=!0}));let o=wt.get(t);o||(o=[],wt.set(t,o)),o.unshift((t=>{throw s||n(t),t}))}));return t.mountComponent(e,n),s}destroy(){this.root&&(this.root.destroy(),this.scheduler.processTasks()),gn.delete(this)}createComponent(t,e,n,s,r){const i=!e;let l;const a=0===r.length;l=n?(t,e)=>!0:s?function(t,e){for(let n in t)if(t[n]!==e[n])return!0;return Object.keys(t).length!==Object.keys(e).length}:a?(t,e)=>!1:function(t,e){for(let n of r)if(t[n]!==e[n])return!0;return!1};const c=re.prototype.updateAndRender,h=re.prototype.initiateRender;return(n,s,r,a,d)=>{let u=r.children,p=u[s];i&&p&&p.component.constructor!==d&&(p=void 0);const f=r.fiber;if(p)(l(p.props,n)||f.deep||p.forceNextRender)&&(p.forceNextRender=!1,c.call(p,n,f));else{if(e){const e=a.constructor.components;if(!e)throw new o(`Cannot find the definition of component "${t}", missing static components key in parent`);if(!(d=e[t]))throw new o(`Cannot find the definition of component "${t}"`);if(!(d.prototype instanceof ce))throw new o(`"${t}" is not a Component. It must inherit from the Component class`)}p=new re(d,n,this,r,s),u[s]=p,h.call(p,new Tt(p,f))}return f.childrenMap[s]=p,p}}handleError(...t){return kt(...t)}}bn.validateTarget=function(t){const e=t&&t.ownerDocument;if(e){const n=e.defaultView.HTMLElement;if(t instanceof n||t instanceof ShadowRoot){if(!e.body.contains(t instanceof n?t:t.host))throw new o("Cannot mount a component on a detached dom node");return}}throw new o("Cannot mount component: the target is not a valid DOM element")},bn.apps=gn,bn.version="2.2.10",e.shouldNormalizeDom=!1,e.mainEventHandler=(e,n,s)=>{const{data:r,modifiers:i}=t(e);e=r;let l=!1;if(i.length){let t=!1;const e=n.target===s;for(const s of i)switch(s){case"self":if(t=!0,e)continue;return l;case"prevent":(t&&e||!t)&&n.preventDefault();continue;case"stop":(t&&e||!t)&&n.stopPropagation(),l=!0;continue}}if(Object.hasOwnProperty.call(e,0)){const t=e[0];if("function"!=typeof t)throw new o(`Invalid handler (expected a function, received: '${t}')`);let s=e[1]?e[1].__owl__:null;s&&1!==s.status||t.call(s?s.component:null,n)}return l};const vn={version:bn.version};function yn(){return oe(ee().component.env.store)}Ce.prototype._compileTemplate=function(t,e){return function(t,e={}){const n=function(t){if("string"==typeof t)return on(Ee(`<t>${t}</t>`).firstChild);let e=sn.get(t);return e||(e=on(t.cloneNode(!0)),sn.set(t,e)),e}(t),s=t instanceof Node?!(t instanceof Element)||null===t.querySelector("[t-set], [t-call]"):!t.includes("t-set")&&!t.includes("t-call"),r=new nn(n,{...e,hasSafeContext:s}).generateCode();try{return new Function("app, bdom, helpers",r)}catch(t){const{name:n}=e,s=new o(`Failed to compile ${n?`template "${n}"`:"anonymous template"}: ${t.message}\n\ngenerated code:\nfunction(app, bdom, helpers) {\n${r}\n}`);throw s.cause=t,s}}(e,{name:t,dev:this.dev,translateFn:this.translateFn,translatableAttributes:this.translatableAttributes})},vn.date="2024-04-02T10:25:32.577Z",vn.hash="97b69f1",vn.url="https://github.com/odoo/owl";class wn extends ce{static template=Oe`
        <div class="col">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title"><t t-esc="props.task.text.split(' ')[0]"/></h5>
                <p class="card-text">
                    <t t-esc="props.task.text"/>  
                </p>
              </div>
              <div class="card-footer">
                    <div class="row">
                    <div class="col form-check">
                      <input class="form-check-input" type="checkbox" t-att-id="props.task.id"
                       t-att-checked="props.task.isCompleted"  
                       t-on-click="() => store.toggleTask(props.task)"/>
                      <label class="form-check-label" t-att-for="props.task.id">
                        Completed
                      </label>
                    </div>
                    <button class="col-md-2 btn btn-outline-danger m-2" t-on-click="() => store.deleteTask(props.task)"></button>
              </div>
            </div>
            </div>
        </div>`;static props=["task"];setup(){this.store=yn()}}class $n extends ce{static template=Oe`
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Todo App</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>`}class kn extends ce{static template=Oe`
<div class="container m-5">
        <input placeholder="Enter a new task" t-on-keyup="addTask" t-ref="add-input" class="form-control"/>
        <div class="mt-5">
               <div style="color: navy;
            margin-top: 8px;
            font-size: 14px;
            display: flex;" t-if="store.tasks.length">
          <h2 style="flex-grow: 1;">
            <t t-esc="displayedTasks.length"/>
            <t t-if="displayedTasks.length lt store.tasks.length">
                / <t t-esc="store.tasks.length"/>
            </t>
            task(s)
          </h2>
          <h5>
            <span t-foreach="['all', 'active', 'completed']"  t-as="f" t-key="f">
                <button t-on-click="() => this.setFilter(f)" class="btn btn-outline-primary m-2"><t t-esc="f" /></button> 
            </span>
          </h5>
        </div>
        </div>
        <div class="mt-3">
            <div class="row row-cols-1 row-cols-md-3 g-4">
              <t t-foreach="displayedTasks" t-as="task" t-key="task.id">
                          <Task task="task"/>
              </t>
            </div>
        </div>
</div>`;static components={Task:wn,Navbar:$n};get displayedTasks(){const t=this.store.tasks;switch(this.filter.value){case"active":return t.filter((t=>!t.isCompleted));case"completed":return t.filter((t=>t.isCompleted));case"all":return t}}setup(){const t=function(t){const e=ee().refs;return{get el(){const t=e["add-input"];return $(t)?t:null}}}();ae((()=>t.el.focus())),this.store=yn(),this.filter=oe({value:"all"})}addTask(t){13===t.keyCode&&(this.store.addTask(t.target.value),t.target.value="")}setFilter(t){this.filter.value=t}}class xn extends ce{static template=Oe`<div>
            <Navbar/>
            <Todo/>
        </div>`;static components={Navbar:$n,Todo:kn}}class Nn{constructor(t){this.tasks=t||[];const e=this.tasks.map((t=>t.id));this.nextId=e.length?Math.max(...e)+1:1}addTask(t){if(t=t.trim()){const e={id:this.nextId++,text:t,isCompleted:!1};this.tasks.push(e)}}toggleTask(t){t.isCompleted=!t.isCompleted}deleteTask(t){const e=this.tasks.findIndex((e=>e.id===t.id));this.tasks.splice(e,1)}}const Tn={store:function(){const t=()=>localStorage.setItem("todoapp",JSON.stringify(n.tasks)),e=JSON.parse(localStorage.getItem("todoapp")||"[]"),n=Ut(new Nn(e),t);return t(),n}()};!async function(t,e,n={}){new bn(t,n).mount(e,n)}(xn,document.body,{dev:!0,env:Tn})})();